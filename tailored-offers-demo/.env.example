# Tailored Offers Demo - Environment Configuration
# Copy this file to .env and fill in your API keys

# LLM Provider Configuration
# ===========================
# Choose one provider - set the API key for the provider you want to use

# Option 1: OpenAI (GPT-4)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Option 2: Anthropic (Claude)
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Optional: Force a specific provider (openai, anthropic, or mock)
# TAILORED_OFFERS_LLM_PROVIDER=openai

# Demo Mode
# =========
# If no API keys are set, the demo runs in "mock" mode with simulated LLM responses
# This is useful for demos where you don't want to incur API costs

# Dynamic Reasoning (NEW!)
# ========================
# When enabled, rules-based agents use an LLM to generate natural-sounding
# explanations instead of templated text. The DECISION is still rules-based
# (fast, deterministic), but the EXPLANATION is dynamically generated.
#
# Default: true if LLM is available, false otherwise
# USE_DYNAMIC_REASONING=true

# API Configuration
# =================
# VITE_API_URL=http://localhost:8000

# =============================================================================
# OBSERVABILITY CONFIGURATION (NEW!)
# =============================================================================

# Structured Logging
# ------------------
# LOG_LEVEL: DEBUG, INFO, WARNING, ERROR (default: INFO)
# LOG_FORMAT: json (production) or console (development)
# LOG_LEVEL=INFO
# LOG_FORMAT=json

# Prometheus Metrics
# ------------------
# METRICS_ENABLED=true
# METRICS_PORT=9090

# LangSmith Tracing (Recommended for LLM observability)
# -----------------------------------------------------
# Get your API key from https://smith.langchain.com/
# LANGSMITH_API_KEY=lsv2_your-langsmith-api-key
# LANGSMITH_PROJECT=tailored-offers
# LANGSMITH_TRACING=true

# LangFuse Tracing (Alternative to LangSmith)
# -------------------------------------------
# Get your keys from https://langfuse.com/
# LANGFUSE_SECRET_KEY=sk-lf-your-secret-key
# LANGFUSE_PUBLIC_KEY=pk-lf-your-public-key
# LANGFUSE_HOST=https://cloud.langfuse.com

# =============================================================================
# RETRY CONFIGURATION (NEW!)
# =============================================================================
# LLM API Call Retry Settings
# LLM_RETRY_MAX_ATTEMPTS=3
# LLM_RETRY_MIN_WAIT=2.0
# LLM_RETRY_MAX_WAIT=30.0
# LLM_TIMEOUT_SECONDS=60.0

# MCP Tool Call Retry Settings
# MCP_RETRY_MAX_ATTEMPTS=3
# MCP_RETRY_MIN_WAIT=1.0
# MCP_RETRY_MAX_WAIT=10.0
# MCP_TIMEOUT_SECONDS=30.0

# =============================================================================
# PROMPT VERSIONING (NEW!)
# =============================================================================
# Control which prompt versions are used for each agent
# OFFER_ORCHESTRATION_PROMPT_VERSION=v1.1
# PERSONALIZATION_PROMPT_VERSION=v1.0

# A/B Testing
# -----------
# Enable A/B testing to compare prompt versions
# AB_TEST_ENABLED=false
# AB_TEST_TREATMENT_PERCENTAGE=0.1

# =============================================================================
# VALIDATION CONFIGURATION (NEW!)
# =============================================================================
# VALIDATION_ENABLED=true
# VALIDATION_STRICT_MODE=false

# =============================================================================
# MEMORY CONFIGURATION (NEW!)
# =============================================================================
# Agent Memory Backend
# USE_REDIS_MEMORY=false  # Set to true to use Redis for distributed memory
# REDIS_HOST=localhost
# REDIS_PORT=6379

# Memory TTL Settings
# SESSION_TTL_SECONDS=3600  # 1 hour session timeout
# CUSTOMER_HISTORY_LIMIT=100  # Max interactions to store per customer

# =============================================================================
# PLANNER-EXECUTOR CONFIGURATION (NEW!)
# =============================================================================
# PLANNER_MAX_REVISIONS=2  # Max plan revisions on failure
# REQUIRE_PLAN_APPROVAL=false  # Set to true for human-in-the-loop
